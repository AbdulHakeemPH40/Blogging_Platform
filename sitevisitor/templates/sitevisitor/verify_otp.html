{% extends 'sitevisitor/site_base.html' %}
{% load static %}
<title>{% block title %}Enter OTP{% endblock %}</title>

{% block custom_css %}
<link rel="stylesheet" href="{% static 'assets/css/sitevisitor/otp.css' %}">
{% endblock %}

{% block content %}
<div class="otp-container">
    <div class="otp-card">
        <div class="otp-card-body">
            <h3 class="otp-card-title text-center">OTP Verification</h3>
            
            <!-- Displaying error messages -->
            {% if messages %}
            <div class="alert alert-danger">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
            {% endif %}
            
            <!-- OTP Verification Form -->
            <form id="otp-form" method="POST" action="{% url 'verify_otp' %}">
                {% csrf_token %}
                <div class="otp-form-group">
                    <label for="otp">Enter the OTP sent to your email</label>
                    <div class="d-flex justify-content-center">
                        <input type="text" class="otp-input" maxlength="1" name="otp1" id="otp1" required>
                        <input type="text" class="otp-input" maxlength="1" name="otp2" id="otp2" required>
                        <input type="text" class="otp-input" maxlength="1" name="otp3" id="otp3" required>
                        <input type="text" class="otp-input" maxlength="1" name="otp4" id="otp4" required>
                        <input type="text" class="otp-input" maxlength="1" name="otp5" id="otp5" required>
                        <input type="text" class="otp-input" maxlength="1" name="otp6" id="otp6" required>
                    </div>
                </div>
                <input type="hidden" name="otp_purpose" value="{{ otp_purpose }}">
                <button type="submit" class="btn btn-primary btn-block">Verify OTP</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script src="{% static 'assets/js/otp.js' %}"></script>
{% endblock %}
